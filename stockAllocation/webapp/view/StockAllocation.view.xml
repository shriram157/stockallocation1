<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout" controllerName="suggestOrder.controller.StockAllocation" xmlns:html="http://www.w3.org/1999/xhtml">
	<html:style>
 
	.setOrangeFont{
		<!--color:#f96302!important;   //#E78C07-->
			color:#E78C07!important;   //#
	}
	 
	</html:style>


	<Page showHeader="true" title="{i18n>STOCK_ALLOCATION}" showFooter="true" showNavButton="true" navButtonPress="_onPageNavButtonPress"
		class="sapUiSizeCompact">
		
		
			<customHeader>
					<Bar class="sapUiSmallPaddingBeginEnd clCustomHeaderBg">
					
					
						<contentLeft>
							<Image id="idLexusLogo" src="images/Lexus_EN.png" width="100px"/>
							<Text text="|" class="sapUiTinyMarginBeginEnd"/>
							<Text class="clCustomFont" text="{i18n>STOCK_ALLOC_SUMMARY}"/>
						</contentLeft>
						
						
						
						

						<contentRight>
						 
									<Button   class="VLbtn2" text="{i18n>Back}" type="Transparent" press="_onPageNavButtonPress" width="auto"/>
						<!--<Link text="{i18n>Back}" class="clCustomFont sapUiSmallMargin" press="handlebacksearch"/>-->
						</contentRight>
					</Bar>
				</customHeader>
		
		
		
		
		
		<content>
			<Title text="{oViewLocalDataModel>/BusinessPartnerName}" titleStyle="H2" width="50%" textAlign="Left" visible="true" wrapping="false"
				class="sapUiTinyMargin">
				<!--<layoutData>-->
				<!--	<l:GridData span="XL2 L1 M3 S4"/>-->
				<!--</layoutData>-->
			</Title>
			<Title text="{oViewLocalDataModel>/series}" titleStyle="H2" width="99%" textAlign="End" visible="true" wrapping="true"
				class="sapUiTinyMargin" level="H2">
				<!--<layoutData>-->
				<!--	<l:GridData span="XL2 L1 M3 S4"/>-->
				<!--</layoutData>-->
			</Title>
			<Title text="{oViewLocalDataModel>/etaFrom}" titleStyle="H6" width="99%" textAlign="End" visible="true" wrapping="false"
				class="sapUiTinyMargin"></Title>
			<!--<IconTabBar expandable="false" expanded="true" applyContentPadding="false" backgroundDesign="Solid" upperCase="false" visible="true"-->
			<!--	selectedKey="Ok" class="sapUiNoContentPadding">-->
			<!--	<items>-->
			<!--		<IconTabFilter icon="" iconColor="Default" text="Allocation" count="" design="Vertical" showAll="false" textDirection="Inherit"-->
			<!--			enabled="true" visible="true" iconDensityAware="false">-->
			<!--<content>-->
			<!--<Table width="auto" noDataText="{i18n>NO_DATA}" mode="None" showSeparators="All" growing="true" growingThreshold="20"-->
			<!--	growingScrollToLoad="true" class="sapUiResponsiveMargin">-->
			<Table items="{path:'stockDataModel>/', sorter : { path : 'model' }}" width="auto" noDataText="{i18n>NO_DATA}" mode="None"
				showSeparators="All" growing="true" growingThreshold="20" growingScrollToLoad="true" class="sapUiResponsiveMargin"
			  alternateRowColors="true">
				<infoToolbar/>
				<headerToolbar>
					<OverflowToolbar width="auto" height="55px" design="Transparent" visible="true" enabled="true">
						<content>
							<ToggleButton pressed="false" text="{i18n>SHOW_ALL_MODELS}" iconFirst="true" width="230px"
								enabled="{oViewLocalDataModel>/setEnableFalseSuggest}" visible="true" press="onClickShowAllModels" id="showAllModelsBtn"/>
							<ToggleButton pressed="false" text="{i18n>SHOW_PERCENTAGES}" iconFirst="true" width="220px"
								enabled="{oViewLocalDataModel>/setEnableFalsePercentages}" visible="true" press="onClickShowPercentages" id="showPercentagesBtn"/>
							<ToolbarSpacer width="310px"/>
							<Button text="{i18n>RESET_TO_SUGGESTED}" type="Reject" iconFirst="true" width="auto"
								enabled="{oViewLocalDataModel>/setEnableFalseReset}" visible="{oViewLocalDataModel>/setEnableFalseReset}" iconDensityAware="false" press="resetToSuggestedClick"/>
							<ToolbarSpacer/>
							<Button text="{i18n>SAVE_REQUEST}" type="Accept" iconFirst="true" width="auto" enabled="{oViewLocalDataModel>/enableForDealer}"
								visible="{oViewLocalDataModel>/setEnableFalseReset}" iconDensityAware="false" press="_onButtonPressSave"/>
						</content>
					</OverflowToolbar>
				</headerToolbar>
				<columns>
					<Column width="100px" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="false" popinDisplay="Inline" mergeDuplicates="false">
						<header>
							<Text text="{i18n>MODEL}" width="auto" maxLines="3" wrapping="true" textAlign="Begin" textDirection="Inherit" visible="true"/>
						</header>
						<footer/>
					</Column>
					<Column width="155px" hAlign="Begin" vAlign="Middle" minScreenWidth="Tablet" demandPopin="false" popinDisplay="Inline" mergeDuplicates="false">
						<header>
							<Text text="{i18n>SUFFIX}" width="auto" maxLines="3" wrapping="true" textAlign="Begin" textDirection="Inherit" visible="true"/>
						</header>
						<footer/>
					</Column>
					
					
					<Column width="185px" hAlign="Begin" vAlign="Middle" minScreenWidth="Tablet" demandPopin="false" popinDisplay="Inline"
						mergeDuplicates="false">
						<header>
							<Text text="{i18n>COLOUR_TRIM}" width="auto" maxLines="2" wrapping="true" textAlign="Begin" textDirection="Inherit" visible="true"/>
						</header>
						<!--<footer>-->
						<!--	<Text text="{i18n>TOTALS}" width="auto" maxLines="1" wrapping="false" textAlign="End" textDirection="Inherit" visible="true" class="myRightAlignmentClass"/>-->
						<!--</footer>-->
					</Column>

					
				   <Column width="15px" hAlign="End" vAlign="Middle" minScreenWidth="Tablet" demandPopin="false" popinDisplay="Inline" 
						mergeDuplicates="false">
						<!--<header>-->
						<!--	<Text text=" " width="auto" maxLines="1" wrapping="true" textAlign="Begin" textDirection="Inherit" visible="false"/>-->
						<!--</header>-->
						<footer>
							<Text text="{i18n>TOTALS}" width="auto" maxLines="1" wrapping="false" textAlign="End" textDirection="Inherit" visible="true" class="setOrangeFont"/>
						</footer>
					</Column>				

					
					<Column width="50px" hAlign="Center" vAlign="Middle" minScreenWidth="Tablet" demandPopin="false" popinDisplay="Inline"
						mergeDuplicates="false">
						<header>
							<Text text="{i18n>CURRENT}" width="50px" maxLines="2" wrapping="true" textAlign="Begin" textDirection="Inherit" visible="true"/>
						</header>
						<footer>
							<Text text="{initialStockTotalModel>/0/currentTotal}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit" class="setOrangeFont"
								visible="true"/>
						</footer>
					</Column>
					<Column width="50px" hAlign="Center" vAlign="Middle" minScreenWidth="Tablet" demandPopin="false" popinDisplay="Inline"
						mergeDuplicates="false">
						<header>
							<Text text="{i18n>CURRENT_DS}" width="auto" maxLines="2" wrapping="true" textAlign="Begin" textDirection="Inherit" visible="true"/>
						</header>
						<footer>
							<Text text="{initialStockTotalModel>/0/currentDSTotal}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit" class="setOrangeFont"
								visible="true" />
						</footer>
					</Column>
					<Column width="70px" hAlign="Center" vAlign="Middle" minScreenWidth="Tablet" demandPopin="false" popinDisplay="Inline"
						mergeDuplicates="false">
						<header>
							<Text text="{i18n>SUGGESTED}" width="auto" maxLines="2" wrapping="true" textAlign="Begin" textDirection="Inherit" visible="true"/>
						</header>
						<footer>
							<Text text="{initialStockTotalModel>/0/suggestedTotal}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit" class="setOrangeFont"
								visible="true"  />
						</footer>
					</Column>
					<Column width="60px" hAlign="Center" vAlign="Middle" minScreenWidth="Tablet" demandPopin="false" popinDisplay="Inline"
						mergeDuplicates="false">
						<header>
							<Text text="{i18n>SUGGESTED_DS}" width="auto" maxLines="2" wrapping="true" textAlign="Begin" textDirection="Inherit" visible="true"/>
						</header>
						<footer>
							<Text text="{initialStockTotalModel>/0/suggestedDSTotal}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" class="setOrangeFont"
								textDirection="Inherit" visible="true"/>
						</footer>
					</Column>
					<Column width="125px" hAlign="Center" vAlign="Top" minScreenWidth="Tablet" demandPopin="false" popinDisplay="Inline" mergeDuplicates="false">
						<header>
							<Text text="{i18n>REQUEST_VOLUME}" width="83.95000457763672px" maxLines="2" wrapping="true" textAlign="Begin" textDirection="Inherit" 
								visible="true"/>
						</header>
						<footer>
							<Text text="{initialStockTotalModel>/0/requestedVolumeTotal}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" class="setOrangeFont"
								textDirection="Inherit" visible="true"/>
						</footer>
					</Column>
					<Column width="60px" hAlign="Center" vAlign="Middle" minScreenWidth="Tablet" demandPopin="false" popinDisplay="Inline"
						mergeDuplicates="false">
						<header>
							<Text text="{i18n>DIFFERENCE}" width="66px" maxLines="2" wrapping="true" textAlign="Begin" textDirection="Inherit" visible="true"/>
						</header>
						<!--  <footer>-->
						<!--	<Text text="{initialStockTotalModel>/0/differenceTotal}" width="auto" maxLines="1" wrapping="false" textAlign="Begin"-->
						<!--		textDirection="Inherit" visible="true"/>-->
						<!--</footer>	-->
						<footer/>
					</Column>
					<Column width="60px" hAlign="Center" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline"
						mergeDuplicates="false">
						<header>
							<Text text="{i18n>REQUESTED_DS}" width="auto" maxLines="2" wrapping="true" textAlign="Begin" textDirection="Inherit" visible="true"/>
						</header>
						<footer/>
					</Column>
					<Column width="65px" hAlign="Center" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline"
						visible="{oViewLocalDataModel>/viewInSuggestedTab}" mergeDuplicates="false">
						<header>
							<Text text="{i18n>ALLOCATED}" width="69px" maxLines="2" wrapping="true" textAlign="Begin" textDirection="Inherit" visible="true"/>
						</header>
						<footer>
							<Text text="{initialStockTotalModel>/0/allocatedTotal}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit" class="setOrangeFont"
								visible="true"/>
						</footer>
					</Column>
					<Column width="70px" hAlign="Center" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline"
						visible="{oViewLocalDataModel>/viewInSuggestedTab}" mergeDuplicates="false">
						<header>
							<Text text="{i18n>ALLOCATED_DS}" width="73px" maxLines="2" wrapping="true" textAlign="Begin" textDirection="Inherit" visible="true"/>
						</header>
						<footer>
							<Text text="{initialStockTotalModel>/0/allocatedDSTotal}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" class="setOrangeFont"
								textDirection="Inherit" visible="true"/>
						</footer>
					</Column>
					<Column width="70px" hAlign="Center" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline"
						visible="{oViewLocalDataModel>/viewInSuggestedTab}" mergeDuplicates="false">
						<header>
							<Text text="{i18n>PENDING_ALLOCATION}" width="73px" maxLines="2" wrapping="true" textAlign="Begin" textDirection="Inherit" visible="true"/>
						</header>
						<footer>
							<Text text="{initialStockTotalModel>/0/pendingAllocationTotal}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" class="setOrangeFont"
								textDirection="Inherit" visible="true"/>
						</footer>
					</Column>
					<Column width="76px" hAlign="Center" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline"
						visible="{oViewLocalDataModel>/viewInSuggestedTab}" mergeDuplicates="false">
						<header>
							<Text text="{i18n>UNFILLED_ALLOCATION}" width="auto" maxLines="3" wrapping="true" textAlign="Begin" textDirection="Inherit" visible="true"/>
						</header>
						<footer>
							<Text text="{initialStockTotalModel>/0/unfilledAllocationTotal}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" class="setOrangeFont"
								textDirection="Inherit" visible="true"/>
						</footer>
					</Column>
				</columns>
				<items>
					<ColumnListItem  visible="{stockDataModel>visibleProperty}">
						<cells>
							<Text text="{stockDataModel>modelCodeDescription}" width="auto" maxLines="3" wrapping="true" textAlign="Begin" textDirection="Inherit" visible="true"/>
							<Text text="{stockDataModel>suffix_desc}" width="auto" maxLines="3" wrapping="true" textAlign="Begin" textDirection="Inherit"
								visible="true"/>
							<Text text="{stockDataModel>colour_Trim}" width="auto" maxLines="2" wrapping="true" textAlign="Right" textDirection="Inherit"
								visible="true"/>
					    	<Text text="{stockDataModel>current1}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit" visible="false"/>			
							<Text text="{stockDataModel>current}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit" visible="true"/>
							<Text text="{stockDataModel>current_Ds}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit" visible="true"/>
							<Text text="{stockDataModel>suggested}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit" visible="true"/>
							<Text text="{stockDataModel>suggested_Ds}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"
								visible="true"/>
							<StepInput value="{stockDataModel>requested_Volume}" 
							  displayValuePrecision="0" min="0" max="100" 
							  width="5.5rem" step="1" largerStep="2"
								valueState="None" 
								enabled="{oViewLocalDataModel>/enableForDealer}" 
								editable="{oViewLocalDataModel>/enableForDealer}" 
		 
								change="whenUserChangesRequestedData"/>
							<Text text="{stockDataModel>difference}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit" visible="true"/>
							<Text text="{stockDataModel>requested_Ds}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"
								visible="true"/>
							<Text text="{stockDataModel>allocated}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit" visible="true"/>
							<Text text="{stockDataModel>allocated_Ds}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"
								visible="true"/>
							<Text text="{stockDataModel>pendingAllocation}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"
								visible="true"/>
							<Text text="{stockDataModel>unfilled_Allocation}" width="auto" maxLines="2" wrapping="false" textAlign="Begin" textDirection="Inherit"
								visible="true"/>
						</cells>
					</ColumnListItem>
				</items>
			</Table>
		
		</content>
		<footer>
			<!--<OverflowToolbar width="1280px" height="47.8194465637207px" design="Auto" enabled="true" visible="true">-->
			<!--	<content>-->
			<!--		<ToolbarSpacer width=""/>-->
			<!--		<Button text="View Sales Details" type="Emphasized" iconFirst="true" width="auto" enabled="true" visible="true" iconDensityAware="false"-->
			<!--			press="_onButtonPress2"/>-->
			<!--	</content>-->
			<!--</OverflowToolbar>-->
		</footer>
		<headerContent>
			<!--<Button text="EXIT" type="Reject" iconFirst="true" width="auto" enabled="true" visible="true" iconDensityAware="false"-->
			<!--	press="_onButtonPress3"/>-->
		</headerContent>
		<subHeader/>
		<customHeader/>
	</Page>
</mvc:View>